<div id="r0-chart"></div>

{% autoescape off %}
<script>
    const jsonData = {{ r0_json_data }};

    const data0 = [];
    const data1 = [];

    for (let i = 0; i < jsonData['r0_timestamps'].length; i++) {
        data0.push([ jsonData['r0_timestamps'][i], jsonData['r0_0'][i] ]);
        data1.push([ jsonData['r0_timestamps'][i], jsonData['r0_1'][i] ]);
    }

    /*
    const scatterTestData = [
        [data0[Math.round(data0.length / 4)][0], 0.00, 'Scan'],
        [data0[Math.round(data0.length / 2)][0], 0.00, 'Scan'],
        [data0[Math.round(3 * data0.length / 4)][0], 0.00, 'Scan']
    ];
    */

    var options = {
      colors: ['#000000', '#00aa00'/*, '#4477ff' */],
      chart: {
        width: '100%',
        height: '300px'
      },
      series: [{
          name: 'Black',
          type: 'line',
          data: data1
        }, {
          name: 'Green',
          type: 'line',
          data: data0
      },/* {
          name: 'Events',
          type: 'scatter',
          data: scatterTestData
      } */],
      /*
      markers: {
        size: [0, 0, 6]
      },
      */
      xaxis: {
        type: 'datetime',
        title: {
          text: 'Time',
          style: {
              fontSize: '12px',
              fontFamily: 'Helvetica, Arial, sans-serif',
              fontWeight: 600,
              cssClass: 'apexcharts-yaxis-title',
          },
        },
      },
      yaxis: {
        tickAmount: 5,
        min: 0.00,
        max: 0.25,
        forceNiceScale: true,
        decimalsInFloat: 2,
        title: {
          text: 'r0 (m)',
          style: {
              color: undefined,
              fontSize: '12px',
              fontFamily: 'Helvetica, Arial, sans-serif',
              fontWeight: 600,
              cssClass: 'apexcharts-yaxis-title',
          },
        },
      },
      grid: {
        show: true,
        strokeDashArray: [4, 4],
        position: 'back',
        xaxis: {
            lines: {
                show: true
            }
        },
      },
      stroke: {
        width: [2, 2],
      }
    }

    var chart = new ApexCharts(document.querySelector("#r0-chart"), options);
    chart.render();
</script>
{% endautoescape %}
